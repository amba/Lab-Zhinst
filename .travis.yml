sudo: false

language: perl

perl:
  - 5.24
  - 5.22
  - 5.20
  - 5.18
  - 5.16
  - 5.14
  - 5.12
  - 5.10
  - 5.8


install:
  # Download ziAPI
  - cd /tmp
  - wget www.zhinst.com/system/files/downloads/files/LabOneLinux64-16.12.42529.tar.gz
  - tar -xf LabOne*
  - cp LabOne*/API/C/include/ziAPI.h $TRAVIS_BUILD_DIR/
  - cp LabOne*/API/C/lib/libziAPI-linux64.so $TRAVIS_BUILD_DIR/
  - export LD_LIBRARY_PATH=$TRAVIS_BUILD_DIR
  - printenv LD_LIBRARY_PATH
  - cd $TRAVIS_BUILD_DIR
  - perl Makefile.PL
  - make
script:
  - make test
  